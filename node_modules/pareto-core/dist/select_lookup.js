"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.stack = exports.cyclic = exports.acyclic = void 0;
var acyclic;
(function (acyclic) {
    acyclic.not_set = () => ({
        get_entry: (id, abort) => abort.no_context_lookup(null),
        __get_entry_raw: (id, abort) => abort.no_context_lookup(null),
    });
    acyclic.from_resolved_dictionary = (dict) => ({
        get_entry: (id, abort) => dict.__get_entry_deprecated(id, {
            no_such_entry: () => abort.no_such_entry(null)
        }),
        __get_entry_raw: (id, abort) => dict.__get_entry_raw(id)
    });
})(acyclic || (exports.acyclic = acyclic = {}));
var cyclic;
(function (cyclic) {
    cyclic.not_set = () => ({
        get_entry: (id, abort) => {
            //return abort['no context lookup']()
            return {
                'get_circular_dependent': () => abort.no_context_lookup(null),
            };
        }
    });
})(cyclic || (exports.cyclic = cyclic = {}));
var stack;
(function (stack_1) {
    stack_1.empty = () => ({
        get_entry: (id, abort) => abort.no_context_lookup(null),
        get_entry_depth(id) {
            return -1;
        },
    });
    stack_1.push = (stack, item) => {
        return ({
            get_entry: (id, abort) => {
                const temp = item.__get_entry_raw(id, abort);
                if (temp === null) {
                    return stack.get_entry(id, abort);
                }
                return temp[0];
            },
            get_entry_depth: (id, abort) => {
                const temp = item.__get_entry_raw(id, abort);
                if (temp === null) {
                    return 1 + stack.get_entry_depth(id, abort);
                }
                return 0;
            }
        });
    };
})(stack || (exports.stack = stack = {}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VsZWN0X2xvb2t1cC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9zZWxlY3RfbG9va3VwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUdBLElBQWlCLE9BQU8sQ0FvQnZCO0FBcEJELFdBQWlCLE9BQU87SUFFUCxlQUFPLEdBQUcsR0FDRSxFQUFFLENBQUMsQ0FBQztRQUN6QixTQUFTLEVBQUUsQ0FBQyxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsQ0FBQyxLQUFLLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDO1FBQ3ZELGVBQWUsRUFBRSxDQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUUsRUFBRSxDQUFDLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUM7S0FDaEUsQ0FBQyxDQUFBO0lBRVcsZ0NBQXdCLEdBQUcsQ0FDcEMsSUFBdUIsRUFDRixFQUFFLENBQUMsQ0FBQztRQUN6QixTQUFTLEVBQUUsQ0FBQyxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsc0JBQXNCLENBQ2pELEVBQUUsRUFDRjtZQUNJLGFBQWEsRUFBRSxHQUFHLEVBQUUsQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQztTQUNqRCxDQUNKO1FBQ0QsZUFBZSxFQUFFLENBQUMsRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxFQUFFLENBQUM7S0FDM0QsQ0FBQyxDQUFBO0FBRU4sQ0FBQyxFQXBCZ0IsT0FBTyx1QkFBUCxPQUFPLFFBb0J2QjtBQUVELElBQWlCLE1BQU0sQ0FZdEI7QUFaRCxXQUFpQixNQUFNO0lBRU4sY0FBTyxHQUFHLEdBQ0MsRUFBRSxDQUFDLENBQUM7UUFDeEIsU0FBUyxFQUFFLENBQUMsRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFO1lBQ3JCLHFDQUFxQztZQUNyQyxPQUFPO2dCQUNILHdCQUF3QixFQUFFLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUM7YUFDaEUsQ0FBQTtRQUNMLENBQUM7S0FDSixDQUFDLENBQUE7QUFFTixDQUFDLEVBWmdCLE1BQU0sc0JBQU4sTUFBTSxRQVl0QjtBQUVELElBQWlCLEtBQUssQ0E2Q3JCO0FBN0NELFdBQWlCLE9BQUs7SUFFTCxhQUFLLEdBQUcsR0FDRSxFQUFFLENBQUMsQ0FBQztRQUN2QixTQUFTLEVBQUUsQ0FBQyxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsQ0FBQyxLQUFLLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDO1FBQ3ZELGVBQWUsQ0FBQyxFQUFFO1lBQ2QsT0FBTyxDQUFDLENBQUMsQ0FBQTtRQUNiLENBQUM7S0FDSixDQUFDLENBQUE7SUFFVyxZQUFJLEdBQUcsQ0FDaEIsS0FBMEIsRUFDMUIsSUFBMkIsRUFDUixFQUFFO1FBQ3JCLE9BQU8sQ0FBQztZQUNKLFNBQVMsRUFBRSxDQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUUsRUFBRTtnQkFDckIsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FDN0IsRUFBRSxFQUNGLEtBQUssQ0FDUixDQUFBO2dCQUNELElBQUksSUFBSSxLQUFLLElBQUksRUFBRSxDQUFDO29CQUNoQixPQUFPLEtBQUssQ0FBQyxTQUFTLENBQ2xCLEVBQUUsRUFDRixLQUFLLENBQ1IsQ0FBQTtnQkFDTCxDQUFDO2dCQUNELE9BQU8sSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFBO1lBQ2xCLENBQUM7WUFDRCxlQUFlLEVBQUUsQ0FBQyxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUU7Z0JBRTNCLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxlQUFlLENBQzdCLEVBQUUsRUFDRixLQUFLLENBQ1IsQ0FBQTtnQkFDRCxJQUFJLElBQUksS0FBSyxJQUFJLEVBQUUsQ0FBQztvQkFDaEIsT0FBTyxDQUFDLEdBQUcsS0FBSyxDQUFDLGVBQWUsQ0FDNUIsRUFBRSxFQUNGLEtBQUssQ0FDUixDQUFBO2dCQUNMLENBQUM7Z0JBQ0QsT0FBTyxDQUFDLENBQUE7WUFDWixDQUFDO1NBQ0osQ0FBQyxDQUFBO0lBQ04sQ0FBQyxDQUFBO0FBRUwsQ0FBQyxFQTdDZ0IsS0FBSyxxQkFBTCxLQUFLLFFBNkNyQiJ9