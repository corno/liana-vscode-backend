"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.repeat = exports.nested_literal_new = exports.nested_literal_old = exports.from = void 0;
exports.literal = literal;
const List_1 = require("../literals/List");
var from;
(function (from) {
    from.dictionary = (dictionary) => {
        return {
            convert: (assign_item) => {
                return dictionary.__to_list(assign_item);
            },
            flatten: (assign_item) => {
                const out = [];
                dictionary.__to_list(assign_item).__get_raw_copy().forEach(($) => {
                    const innerList = $;
                    innerList.__get_raw_copy().forEach(($) => {
                        out.push($);
                    });
                });
                return new List_1.List_Class(out);
            },
        };
    };
    from.list = (list) => {
        return {
            filter: (assign_optional_item) => {
                const out = [];
                list.__get_raw_copy().forEach(($) => {
                    const result = assign_optional_item($);
                    result.__extract_data(($) => {
                        out.push($);
                    }, () => { });
                });
                return new List_1.List_Class(out);
            },
            flatten: (assign_list) => {
                const out = [];
                list.__get_raw_copy().forEach(($) => {
                    const innerList = assign_list($);
                    innerList.__get_raw_copy().forEach(($) => {
                        out.push($);
                    });
                });
                return new List_1.List_Class(out);
            },
            join: (other_list, assign_item) => {
                const out = [];
                let index = -1;
                list.__l_map(($) => {
                    index++;
                    out.push(assign_item($, other_list.__deprecated_get_possible_item_at(index)));
                });
                return literal(out);
            },
            map: (assign_item) => {
                return list.__l_map(assign_item);
            },
            reverse: () => {
                return new List_1.List_Class(list.__get_raw_copy().slice().reverse());
            }
        };
    };
})(from || (exports.from = from = {}));
function literal(source) {
    if (!(source instanceof Array)) {
        throw new Error("invalid input in 'list_literal'");
    }
    const data = source.slice(); //create a copy
    /**
     * this is an implementation, not public by design
     * If you feel the need to rename this class, don't rename it to 'Array',
     * it will break the 'instanceOf Array' test
     */
    return new List_1.List_Class(data);
}
const nested_literal_old = (lists) => {
    const out = [];
    lists.forEach(($) => {
        if ($ == undefined) {
            // do nothing
        }
        else if ($ instanceof Array) {
            $.forEach(($) => {
                out.push($);
            });
        }
        else {
            out.push(...$.__get_raw_copy());
        }
    });
    return new List_1.List_Class(out);
};
exports.nested_literal_old = nested_literal_old;
const nested_literal_new = (nested) => {
    const out = [];
    const flatten = (n) => {
        if (n == undefined) {
            // do nothing
        }
        else if (n instanceof Array) {
            n.forEach(($) => {
                flatten($);
            });
        }
        else {
            out.push(...n.__get_raw_copy());
        }
    };
    flatten(nested);
    return new List_1.List_Class(out);
};
exports.nested_literal_new = nested_literal_new;
const repeat = (item, times) => {
    const out = [];
    for (let i = 0; i < times; i++) {
        out.push(item);
    }
    return new List_1.List_Class(out);
};
exports.repeat = repeat;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGlzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9fX2ludGVybmFscy9zeW5jL2Fzc2lnbi9jb25zdHJ1Y3QvbGlzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFxSEEsMEJBY0M7QUFsSUQsMkNBQTZDO0FBRzdDLElBQWlCLElBQUksQ0ErR3BCO0FBL0dELFdBQWlCLElBQUk7SUFFSixlQUFVLEdBQUcsQ0FDdEIsVUFBNkIsRUFDL0IsRUFBRTtRQUNBLE9BQU87WUFFSCxPQUFPLEVBQUUsQ0FDTCxXQUdhLEVBQ0ssRUFBRTtnQkFDcEIsT0FBTyxVQUFVLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxDQUFBO1lBQzVDLENBQUM7WUFFRCxPQUFPLEVBQUUsQ0FDTCxXQUdpQixFQUNMLEVBQUU7Z0JBQ2QsTUFBTSxHQUFHLEdBQVMsRUFBRSxDQUFBO2dCQUNwQixVQUFVLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxDQUFDLGNBQWMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFO29CQUM3RCxNQUFNLFNBQVMsR0FBRyxDQUFDLENBQUE7b0JBQ25CLFNBQVMsQ0FBQyxjQUFjLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRTt3QkFDckMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQTtvQkFDZixDQUFDLENBQUMsQ0FBQTtnQkFFTixDQUFDLENBQUMsQ0FBQTtnQkFDRixPQUFPLElBQUksaUJBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQTtZQUM5QixDQUFDO1NBRUosQ0FBQTtJQUNMLENBQUMsQ0FBQTtJQUVZLFNBQUksR0FBRyxDQUNoQixJQUFpQixFQUNuQixFQUFFO1FBQ0EsT0FBTztZQUVILE1BQU0sRUFBRSxDQUNKLG9CQUVpQyxFQUNmLEVBQUU7Z0JBQ3BCLE1BQU0sR0FBRyxHQUFlLEVBQUUsQ0FBQTtnQkFDMUIsSUFBSSxDQUFDLGNB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