"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.__handle_command_block = void 0;
const command_promise_1 = require("./command_promise");
const __handle_command_block = (block) => {
    return (0, command_promise_1.__command_promise)({
        'execute': (on_success, on_error) => {
            const length = block.length;
            const runStep = (index) => {
                if (index >= length) {
                    on_success();
                    return;
                }
                block[index].__start(() => runStep(index + 1), on_error);
            };
            runStep(0);
        }
    });
};
exports.__handle_command_block = __handle_command_block;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGFuZGxlX2NvbW1hbmRfYmxvY2suanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvX19pbnRlcm5hbHMvYXN5bmMvaGFuZGxlX2NvbW1hbmRfYmxvY2sudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQ0EsdURBQXFEO0FBRzlDLE1BQU0sc0JBQXNCLEdBQUcsQ0FDbEMsS0FBMkIsRUFDRCxFQUFFO0lBQzVCLE9BQU8sSUFBQSxtQ0FBaUIsRUFBQztRQUNyQixTQUFTLEVBQUUsQ0FDUCxVQUFVLEVBQ1YsUUFBUSxFQUNWLEVBQUU7WUFFQSxNQUFNLE1BQU0sR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFBO1lBQzNCLE1BQU0sT0FBTyxHQUFHLENBQUMsS0FBYSxFQUFFLEVBQUU7Z0JBQzlCLElBQUksS0FBSyxJQUFJLE1BQU0sRUFBRSxDQUFDO29CQUNsQixVQUFVLEVBQUUsQ0FBQTtvQkFDWixPQUFNO2dCQUNWLENBQUM7Z0JBQ0QsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLE9BQU8sQ0FDaEIsR0FBRyxFQUFFLENBQUMsT0FBTyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsRUFDeEIsUUFBUSxDQUNYLENBQUE7WUFDTCxDQUFDLENBQUE7WUFDRCxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUE7UUFDZCxDQUFDO0tBQ0osQ0FBQyxDQUFBO0FBQ04sQ0FBQyxDQUFBO0FBdkJZLFFBQUEsc0JBQXNCLDBCQXVCbEMifQ==