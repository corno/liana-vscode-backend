"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.query_function = void 0;
const __query_result_1 = require("./__query_result");
const query_function = (handler) => {
    return ($q) => ($p, error_transformer) => {
        return (0, __query_result_1.__query_result)((on_success, on_error) => {
            handler($p, $q).__extract_data(on_success, (e) => {
                on_error(error_transformer(e));
            });
        });
    };
};
exports.query_function = query_function;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXVlcnlfZnVuY3Rpb24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvX19pbnRlcm5hbHMvYXN5bmMvcXVlcnlfZnVuY3Rpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBR0EscURBQWlEO0FBRzFDLE1BQU0sY0FBYyxHQUFHLENBQzFCLE9BR2dDLEVBQ3lDLEVBQUU7SUFDM0UsT0FBTyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsaUJBQWlCLEVBQUUsRUFBRTtRQUNyQyxPQUFPLElBQUEsK0JBQWMsRUFBQyxDQUFDLFVBQVUsRUFBRSxRQUFRLEVBQUUsRUFBRTtZQUMzQyxPQUFPLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLGNBQWMsQ0FDMUIsVUFBVSxFQUNWLENBQUMsQ0FBQyxFQUFFLEVBQUU7Z0JBQ0YsUUFBUSxDQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7WUFDbEMsQ0FBQyxDQUNKLENBQUE7UUFDTCxDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUMsQ0FBQTtBQUNMLENBQUMsQ0FBQTtBQWhCWSxRQUFBLGNBQWMsa0JBZ0IxQiJ9